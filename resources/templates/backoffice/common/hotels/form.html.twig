{% extends 'backoffice/base_backoffice.html.twig' %}

{% block body %}
    <section class="col-md-9 ml-sm-auto col-lg-10 pt-3 px-4">
        <h1>Ajouter un HÃ´tel</h1>

        {% form_theme hotelForm 'bootstrap_4_layout.html.twig' %}
        {{ form_start(hotelForm, {'attr': {'novalidate': 'novalidate'}}) }}

        {{ form_label(hotelForm.name) }}
        {{ form_widget(hotelForm.name) }}
        {{ form_label(hotelForm.address) }}
        {{ form_widget(hotelForm.address) }}
        {{ form_label(hotelForm.email) }}
        {{ form_widget(hotelForm.email) }}
        {{ form_label(hotelForm.description) }}
        {{ form_widget(hotelForm.description) }}

        <div class="row hotel-images-wrapper"
             data-prototype="{{ form_widget(hotelForm.images.vars.prototype)|e('html_attr') }}"
             data-index="{{ hotelForm.images|length }}">
            {% for image in hotelForm.images %}
            {% endfor %}
            <a href="#" class="js-hotel-image-add">
                Ajouter une autre image
            </a>
        </div>

        <div id="regionDiv">
            {{ form_label(hotelForm.region) }}
            {{ form_widget(hotelForm.region, {attr: {'data-autocomplete-url': '/fr/autocomplete/department'}}) }}
        </div>
        <div id="departmentDiv">
            {{ form_label(hotelForm.department) }}
            {{ form_widget(hotelForm.department, {attr: {'data-autocomplete-url': '/fr/autocomplete/city'}}) }}
        </div>
        <div id="cityDiv">
            {{ form_label(hotelForm.city) }}
            {{ form_widget(hotelForm.city, {attr: {'data-autocomplete-url': '/fr/autocomplete/postalcode'}}) }}
        </div>
        <div id="postalCodeDiv">
            {{ form_label(hotelForm.postalCode) }}
            {{ form_widget(hotelForm.postalCode) }}
        </div>

        <button type="submit" class="btn btn-primary">Valider</button>
        {{ form_end(hotelForm) }}
    </section>
{% endblock %}
